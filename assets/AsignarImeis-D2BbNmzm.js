import{_ as v,r as t,k as f,c as g,a,b as i,d as r,w as I,o as b,m as _,p as A,i as p,t as E,j as w,q as M}from"./index-BB9LpqwG.js";import{g as V}from"./articulosService-CVdaICS3.js";const k={class:"asignar-imeis-container"},$={class:"form-card"},y={class:"form-group"},x={class:"form-group"},B={class:"form-actions"},C={class:"dialog-actions"},N={__name:"AsignarImeis",setup(U){const d=t([]),l=t(null),o=t(""),u=t(""),n=t(!1);f(async()=>{d.value=await V()});const m=async()=>{if(!l.value||!o.value)return;const c=o.value.split(`
`).map(s=>s.trim()).filter(Boolean);try{await M(l.value.nombre,c),u.value=`${c.length} IMEIs asignados al artículo "${l.value.nombre}" correctamente.`}catch{u.value="Ocurrió un error al asignar los IMEIs."}n.value=!0,o.value=""};return(c,s)=>(b(),g("div",k,[s[6]||(s[6]=a("h2",null,"Asignar IMEIs a Artículo",-1)),a("div",$,[a("div",y,[s[4]||(s[4]=a("label",{for:"articulo"},"Artículo:",-1)),i(r(_),{id:"articulo",modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=e=>l.value=e),options:d.value,optionLabel:"nombre",placeholder:"Selecciona artículo",class:"w-full"},null,8,["modelValue","options"])]),a("div",x,[s[5]||(s[5]=a("label",{for:"imeis"},"IMEIs:",-1)),i(r(A),{id:"imeis",modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=e=>o.value=e),placeholder:"Escanea o pega los IMEIs, uno por línea",rows:"8",class:"w-full"},null,8,["modelValue"])]),a("div",B,[i(r(p),{label:"Registrar y asignar IMEIs",icon:"pi pi-save",onClick:m,class:"p-button-success"})])]),i(r(w),{visible:n.value,"onUpdate:visible":s[3]||(s[3]=e=>n.value=e),header:"Resultado",modal:!0,closable:!1},{default:I(()=>[a("p",null,E(u.value),1),a("div",C,[i(r(p),{label:"Aceptar",icon:"pi pi-check",onClick:s[2]||(s[2]=e=>n.value=!1),autofocus:""})])]),_:1},8,["visible"])]))}},D=v(N,[["__scopeId","data-v-4d489c3d"]]);export{D as default};
