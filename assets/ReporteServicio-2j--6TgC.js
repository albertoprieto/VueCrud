import{d as S,_ as P,r as D,c as N,a as u,b as a,u as s,l as q,ap as x,e as M,A as w,p as i,aj as O,az as _,g as U}from"./index-dE5x1ZbV.js";const $=async t=>await S.post("https://api.gpsubicacionapi.com//reportes-servicio",t),ll=async t=>(await S.get(`https://api.gpsubicacionapi.com//reportes-servicio?asignacion_id=${t}`)).data,j={class:"reporte-servicio-container"},B={class:"form-row"},C={class:"form-col"},k={class:"form-group"},A={class:"form-group"},E={class:"form-group"},F={class:"form-group"},T={class:"form-group"},z={class:"form-col"},G={class:"form-group"},L={class:"form-group"},H={class:"form-group"},J={class:"form-group"},K={class:"form-group"},Q={class:"checkbox-group mb-2"},W={class:"modal-actions"},X={__name:"ReporteServicio",props:{asignacionId:Number,ventaDetalle:Object,cliente:Object},emits:["close","saved"],setup(t,{emit:r}){var v,c,V,b,f,g;const n=x();Number(n.params.asignacionId);const d=t,m=r,y=["Instalación","Reinstalación","Revisión","Desinstalación","Búsqueda"],I=["Efectivo","Transferencia","Depósito"],e=D({tipo_servicio:"",lugar_instalacion:"",marca:"",submarca:"",modelo:"",placas:"",color:"",numero_economico:"",equipo_plan:"",imei:"",serie:"",accesorios:"",sim_proveedor:"",sim_serie:"",sim_instalador:"",sim_telefono:"",bateria:"",ignicion:"",corte:"",ubicacion_corte:"",observaciones:"",plataforma:((c=(v=d.cliente)==null?void 0:v.plataformas)==null?void 0:c[0])||"",usuario:((b=(V=d.cliente)==null?void 0:V.usuarios)==null?void 0:b[0])||"",subtotal:((f=d.ventaDetalle)==null?void 0:f.total)||"",forma_pago:"",pagado:!1,nombre_cliente:((g=d.cliente)==null?void 0:g.nombre)||"",firma_cliente:"",nombre_instalador:"",firma_instalador:"",asignacion_id:d.asignacionId});function p(){m("close")}async function R(){e.value.asignacion_id=d.asignacionId||Number(n.params.asignacionId),await $(e.value),m("saved"),p()}return(Z,l)=>(M(),N("div",j,[l[42]||(l[42]=u("h2",{class:"reporte-title"},"Reporte de Servicio",-1)),u("form",{class:"reporte-form",onSubmit:q(R,["prevent"])},[u("div",B,[u("div",C,[u("div",k,[l[30]||(l[30]=u("label",null,"Tipo de servicio",-1)),a(s(w),{modelValue:e.value.tipo_servicio,"onUpdate:modelValue":l[0]||(l[0]=o=>e.value.tipo_servicio=o),options:y,placeholder:"Selecciona",class:"w-full"},null,8,["modelValue"])]),u("div",A,[l[31]||(l[31]=u("label",null,"Lugar/Centro de instalación",-1)),a(s(i),{modelValue:e.value.lugar_instalacion,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value.lugar_instalacion=o),class:"w-full",placeholder:"Opcional"},null,8,["modelValue"])]),l[32]||(l[32]=u("h4",{class:"section-title"},"Datos del vehículo",-1)),u("div",E,[a(s(i),{modelValue:e.value.marca,"onUpdate:modelValue":l[2]||(l[2]=o=>e.value.marca=o),placeholder:"Marca",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.submarca,"onUpdate:modelValue":l[3]||(l[3]=o=>e.value.submarca=o),placeholder:"Submarca",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.modelo,"onUpdate:modelValue":l[4]||(l[4]=o=>e.value.modelo=o),placeholder:"Modelo",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.placas,"onUpdate:modelValue":l[5]||(l[5]=o=>e.value.placas=o),placeholder:"Placas",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.color,"onUpdate:modelValue":l[6]||(l[6]=o=>e.value.color=o),placeholder:"Color",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.numero_economico,"onUpdate:modelValue":l[7]||(l[7]=o=>e.value.numero_economico=o),placeholder:"Número económico",class:"w-full mb-2"},null,8,["modelValue"])]),l[33]||(l[33]=u("h4",{class:"section-title"},"Datos SIM (uso interno)",-1)),u("div",F,[a(s(i),{modelValue:e.value.sim_proveedor,"onUpdate:modelValue":l[8]||(l[8]=o=>e.value.sim_proveedor=o),placeholder:"Proveedor",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.sim_serie,"onUpdate:modelValue":l[9]||(l[9]=o=>e.value.sim_serie=o),placeholder:"Serie",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.sim_instalador,"onUpdate:modelValue":l[10]||(l[10]=o=>e.value.sim_instalador=o),placeholder:"Instalador",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.sim_telefono,"onUpdate:modelValue":l[11]||(l[11]=o=>e.value.sim_telefono=o),placeholder:"Teléfono",class:"w-full mb-2"},null,8,["modelValue"])]),l[34]||(l[34]=u("h4",{class:"section-title"},"Firmas y aviso",-1)),u("div",T,[a(s(i),{modelValue:e.value.nombre_cliente,"onUpdate:modelValue":l[12]||(l[12]=o=>e.value.nombre_cliente=o),placeholder:"Nombre del cliente",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.firma_cliente,"onUpdate:modelValue":l[13]||(l[13]=o=>e.value.firma_cliente=o),placeholder:"Firma del cliente",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.nombre_instalador,"onUpdate:modelValue":l[14]||(l[14]=o=>e.value.nombre_instalador=o),placeholder:"Nombre del instalador",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.firma_instalador,"onUpdate:modelValue":l[15]||(l[15]=o=>e.value.firma_instalador=o),placeholder:"Firma del instalador",class:"w-full mb-2"},null,8,["modelValue"])])]),u("div",z,[l[37]||(l[37]=u("h4",{class:"section-title"},"Datos del equipo",-1)),u("div",G,[a(s(i),{modelValue:e.value.equipo_plan,"onUpdate:modelValue":l[16]||(l[16]=o=>e.value.equipo_plan=o),placeholder:"Equipo/Plan",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.imei,"onUpdate:modelValue":l[17]||(l[17]=o=>e.value.imei=o),placeholder:"IMEI",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.serie,"onUpdate:modelValue":l[18]||(l[18]=o=>e.value.serie=o),placeholder:"Serie",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.accesorios,"onUpdate:modelValue":l[19]||(l[19]=o=>e.value.accesorios=o),placeholder:"Accesorios adicionales",class:"w-full mb-2"},null,8,["modelValue"])]),l[38]||(l[38]=u("h4",{class:"section-title"},"Datos de conexión y corte",-1)),u("div",L,[a(s(i),{modelValue:e.value.bateria,"onUpdate:modelValue":l[20]||(l[20]=o=>e.value.bateria=o),placeholder:"Batería",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.ignicion,"onUpdate:modelValue":l[21]||(l[21]=o=>e.value.ignicion=o),placeholder:"Ignición",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.corte,"onUpdate:modelValue":l[22]||(l[22]=o=>e.value.corte=o),placeholder:"Corte bomba/switch",class:"w-full mb-2"},null,8,["modelValue"]),a(s(i),{modelValue:e.value.ubicacion_corte,"onUpdate:modelValue":l[23]||(l[23]=o=>e.value.ubicacion_corte=o),placeholder:"Ubicación",class:"w-full mb-2"},null,8,["modelValue"])]),u("div",H,[l[35]||(l[35]=u("label",null,"Observaciones de la unidad",-1)),a(s(O),{modelValue:e.value.observaciones,"onUpdate:modelValue":l[24]||(l[24]=o=>e.value.observaciones=o),rows:"2",class:"w-full"},null,8,["modelValue"])]),l[39]||(l[39]=u("h4",{class:"section-title"},"Plataforma y usuario",-1)),u("div",J,[a(s(i),{modelValue:e.value.plataforma,"onUpdate:modelValue":l[25]||(l[25]=o=>e.value.plataforma=o),placeholder:"Plataforma",class:"w-full mb-2",disabled:!0},null,8,["modelValue"]),a(s(i),{modelValue:e.value.usuario,"onUpdate:modelValue":l[26]||(l[26]=o=>e.value.usuario=o),placeholder:"Usuario",class:"w-full mb-2",disabled:!0},null,8,["modelValue"])]),l[40]||(l[40]=u("h4",{class:"section-title"},"Venta y pago",-1)),u("div",K,[a(s(i),{modelValue:e.value.subtotal,"onUpdate:modelValue":l[27]||(l[27]=o=>e.value.subtotal=o),placeholder:"Subtotal",class:"w-full mb-2",disabled:!0},null,8,["modelValue"]),a(s(w),{modelValue:e.value.forma_pago,"onUpdate:modelValue":l[28]||(l[28]=o=>e.value.forma_pago=o),options:I,placeholder:"Forma de pago",class:"w-full mb-2"},null,8,["modelValue"]),u("div",Q,[a(s(_),{modelValue:e.value.pagado,"onUpdate:modelValue":l[29]||(l[29]=o=>e.value.pagado=o),binary:!0,inputId:"pagado"},null,8,["modelValue"]),l[36]||(l[36]=u("label",{for:"pagado"},"Pagado",-1))])]),l[41]||(l[41]=u("div",{class:"form-group"},[u("small",null,"Aviso de privacidad: Sus datos serán tratados conforme a la ley...")],-1))])]),u("div",W,[a(s(U),{label:"Guardar",icon:"pi pi-save",type:"submit"}),a(s(U),{label:"Cancelar",icon:"pi pi-times",class:"p-button-secondary",type:"button",onClick:p})])],32)]))}},Y=P(X,[["__scopeId","data-v-5a69b620"]]),el=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{Y as R,el as a,ll as g};
