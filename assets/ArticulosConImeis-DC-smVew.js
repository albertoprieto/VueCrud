import{_ as g,r,l as f,k as M,c as x,a as u,b as o,d as a,w as d,x as C,o as w,g as F,s as l,i as V,e as I,j as k}from"./index-BinYHTfi.js";const y={class:"articulos-con-imeis"},A={class:"table-actions"},O={class:"articulos-imeis-card"},$={class:"dialog-content"},B={__name:"ArticulosConImeis",setup(L){const v=r([]),c=r(!1),m=r([]),i=r(""),p=r("articulo_nombre"),_=r(1),n=f(()=>{const s={};return v.value.forEach(e=>{s[e.articulo_nombre]||(s[e.articulo_nombre]=[]),s[e.articulo_nombre].push(e)}),Object.entries(s).map(([e,t])=>({articulo_nombre:e,cantidad:t.length,imeis:t}))}),b=f(()=>i.value?n.value.filter(s=>{var e;return(e=s.articulo_nombre)==null?void 0:e.toLowerCase().includes(i.value.toLowerCase())}):n.value),h=s=>{const e=n.value.find(t=>t.articulo_nombre===s);m.value=e?e.imeis:[],c.value=!0},E=s=>{p.value=s.sortField,_.value=s.sortOrder};return M(async()=>{v.value=await C()}),(s,e)=>(w(),x("div",y,[e[2]||(e[2]=u("h2",null,"Stock por Artículo",-1)),u("div",A,[o(a(F),{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),placeholder:"Filtrar por artículo...",class:"p-inputtext-sm",style:{"max-width":"250px"}},null,8,["modelValue"])]),u("div",O,[o(a(I),{value:b.value,sortField:p.value,sortOrder:_.value,responsiveLayout:"scroll",onSort:E},{default:d(()=>[o(a(l),{field:"articulo_nombre",header:"Artículo",sortable:""}),o(a(l),{field:"cantidad",header:"Cantidad IMEIs",sortable:""}),o(a(l),{header:"Ver IMEIs"},{body:d(t=>[o(a(V),{label:"Ver IMEIs",onClick:N=>h(t.data.articulo_nombre)},null,8,["onClick"])]),_:1})]),_:1},8,["value","sortField","sortOrder"])]),o(a(k),{visible:c.value,"onUpdate:visible":e[1]||(e[1]=t=>c.value=t),header:"IMEIs Asociados",modal:!0,closable:!0},{default:d(()=>[u("div",$,[o(a(I),{value:m.value,responsiveLayout:"scroll"},{default:d(()=>[o(a(l),{field:"imei",header:"IMEI"}),o(a(l),{field:"status",header:"Estado"}),o(a(l),{field:"registeredBy",header:"Registró"}),o(a(l),{field:"date",header:"Fecha"})]),_:1},8,["value"])])]),_:1},8,["visible"])]))}},U=g(B,[["__scopeId","data-v-f36c6aa4"]]);export{U as default};
