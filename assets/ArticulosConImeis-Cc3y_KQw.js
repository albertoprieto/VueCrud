import{_ as g,r,l as f,k as x,c as y,a as _,b as s,d as a,w as u,x as M,o as C,g as w,s as l,i as F,e as b,j as V}from"./index-BB9LpqwG.js";const k={class:"articulos-con-imeis"},A={class:"table-actions",style:{"margin-bottom":"1rem",display:"flex","justify-content":"flex-end"}},O={__name:"ArticulosConImeis",setup($){const c=r([]),d=r(!1),m=r([]),i=r(""),v=r("articulo_nombre"),p=r(1),n=f(()=>{const o={};return c.value.forEach(e=>{o[e.articulo_nombre]||(o[e.articulo_nombre]=[]),o[e.articulo_nombre].push(e)}),Object.entries(o).map(([e,t])=>({articulo_nombre:e,cantidad:t.length,imeis:t}))}),I=f(()=>i.value?n.value.filter(o=>{var e;return(e=o.articulo_nombre)==null?void 0:e.toLowerCase().includes(i.value.toLowerCase())}):n.value),h=o=>{const e=n.value.find(t=>t.articulo_nombre===o);m.value=e?e.imeis:[],d.value=!0},E=o=>{v.value=o.sortField,p.value=o.sortOrder};return x(async()=>{c.value=await M()}),(o,e)=>(C(),y("div",k,[e[2]||(e[2]=_("h2",null,"Stock por Artículo",-1)),_("div",A,[s(a(w),{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),placeholder:"Filtrar por artículo...",class:"p-inputtext-sm",style:{"max-width":"250px"}},null,8,["modelValue"])]),s(a(b),{value:I.value,sortField:v.value,sortOrder:p.value,responsiveLayout:"scroll",onSort:E},{default:u(()=>[s(a(l),{field:"articulo_nombre",header:"Artículo",sortable:""}),s(a(l),{field:"cantidad",header:"Cantidad IMEIs",sortable:""}),s(a(l),{header:"Ver IMEIs"},{body:u(t=>[s(a(F),{label:"Ver IMEIs",onClick:L=>h(t.data.articulo_nombre)},null,8,["onClick"])]),_:1})]),_:1},8,["value","sortField","sortOrder"]),s(a(V),{visible:d.value,"onUpdate:visible":e[1]||(e[1]=t=>d.value=t),header:"IMEIs Asociados",modal:!0,closable:!0},{default:u(()=>[s(a(b),{value:m.value,responsiveLayout:"scroll"},{default:u(()=>[s(a(l),{field:"imei",header:"IMEI"}),s(a(l),{field:"status",header:"Estado"}),s(a(l),{field:"registeredBy",header:"Registró"}),s(a(l),{field:"date",header:"Fecha"})]),_:1},8,["value"])]),_:1},8,["visible"])]))}},j=g(O,[["__scopeId","data-v-8e51c205"]]);export{j as default};
