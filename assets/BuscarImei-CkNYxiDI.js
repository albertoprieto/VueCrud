import{_ as I,r as u,k as C,l as k,c as y,a as d,b as i,d as t,w as m,ar as V,o as f,g as B,i as _,s as l,t as L,I as h,D as x,v as E,e as M,L as D}from"./index-CUS9nlnQ.js";const $={class:"buscar-imei-container"},N={class:"buscar-imei-filtros"},A={__name:"BuscarImei",setup(F){const r=u([]),o=u(""),n=u(!1),p=async()=>{n.value=!0;const s=await V.get("https://64.227.15.111/buscar-imei?digitos=");r.value=s.data,n.value=!1};C(p);const g=k(()=>{if(!o.value)return r.value;const s=o.value.toLowerCase();return r.value.filter(a=>{var e,c,v,b;return((e=a.imei)==null?void 0:e.toLowerCase().includes(s))||((c=a.imei)==null?void 0:c.slice(-5).includes(s))||((v=a.articulo_nombre)==null?void 0:v.toLowerCase().includes(s))||((b=a.ubicacion)==null?void 0:b.toLowerCase().includes(s))})}),w=async s=>{await D(s),await p()};return(s,a)=>(f(),y("div",$,[a[2]||(a[2]=d("h2",{class:"buscar-imei-title"},"Buscar IMEI",-1)),d("div",N,[i(t(B),{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),placeholder:"Filtra por últimos dígitos, artículo o ubicación...",class:"buscar-imei-input"},null,8,["modelValue"]),i(t(_),{label:"Limpiar",icon:"pi pi-times",onClick:a[1]||(a[1]=e=>o.value=""),class:"ml-2"})]),i(t(M),{value:g.value,paginator:!0,rows:10,responsiveLayout:"scroll",class:"buscar-imei-table",loading:n.value,stripedRows:"",rowsPerPageOptions:[10,20,50],emptyMessage:"No se encontraron IMEIs."},{default:m(()=>[i(t(l),{field:"imei",header:"IMEI",sortable:""}),i(t(l),{field:"articulo_nombre",header:"Artículo",sortable:""}),i(t(l),{field:"ubicacion",header:"Ubicación",sortable:""}),i(t(l),{field:"status",header:"Estado"},{body:m(e=>[d("span",{class:h({"imei-disponible":e.data.status==="Disponible","imei-vendido":e.data.status==="Vendido","imei-devuelto":e.data.status==="Devuelto"})},L(e.data.status),3)]),_:1}),i(t(l),{header:"Acciones"},{body:m(e=>[e.data.status==="Vendido"?(f(),x(t(_),{key:0,label:"Devolver",icon:"pi pi-undo",class:"p-button-text p-button-warning",onClick:c=>w(e.data.imei)},null,8,["onClick"])):E("",!0)]),_:1})]),_:1},8,["value","loading"])]))}},z=I(A,[["__scopeId","data-v-9be0072c"]]);export{z as default};
