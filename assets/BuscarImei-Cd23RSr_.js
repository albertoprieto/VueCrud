import{_ as I,r as u,o as C,x as y,c as V,a as d,b as t,u as i,w as m,d as h,e as f,p as k,g as _,s as l,t as x,J as B,f as M,h as E,i as L,M as $}from"./index-DHsczmXD.js";const D={class:"buscar-imei-container"},N={class:"buscar-imei-filtros"},A={__name:"BuscarImei",setup(F){const r=u([]),o=u(""),n=u(!1),p=async()=>{n.value=!0;const s=await h.get("https://api.gpsubicacionapi.com/buscar-imei?digitos=");r.value=s.data,n.value=!1};C(p);const g=y(()=>{if(!o.value)return r.value;const s=o.value.toLowerCase();return r.value.filter(a=>{var e,c,v,b;return((e=a.imei)==null?void 0:e.toLowerCase().includes(s))||((c=a.imei)==null?void 0:c.slice(-5).includes(s))||((v=a.articulo_nombre)==null?void 0:v.toLowerCase().includes(s))||((b=a.ubicacion)==null?void 0:b.toLowerCase().includes(s))})}),w=async s=>{await $(s),await p()};return(s,a)=>(f(),V("div",D,[a[2]||(a[2]=d("h2",{class:"buscar-imei-title"},"Buscar IMEI",-1)),d("div",N,[t(i(k),{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),placeholder:"Filtra por últimos dígitos, artículo o ubicación...",class:"buscar-imei-input"},null,8,["modelValue"]),t(i(_),{label:"Limpiar",icon:"pi pi-times",onClick:a[1]||(a[1]=e=>o.value=""),class:"ml-2"})]),t(i(L),{value:g.value,paginator:!0,rows:10,responsiveLayout:"scroll",class:"buscar-imei-table",loading:n.value,stripedRows:"",rowsPerPageOptions:[10,20,50],emptyMessage:"No se encontraron IMEIs."},{default:m(()=>[t(i(l),{field:"imei",header:"IMEI",sortable:""}),t(i(l),{field:"articulo_nombre",header:"Artículo",sortable:""}),t(i(l),{field:"ubicacion",header:"Ubicación",sortable:""}),t(i(l),{field:"status",header:"Estado"},{body:m(e=>[d("span",{class:B({"imei-disponible":e.data.status==="Disponible","imei-vendido":e.data.status==="Vendido","imei-devuelto":e.data.status==="Devuelto"})},x(e.data.status),3)]),_:1}),t(i(l),{header:"Acciones"},{body:m(e=>[e.data.status==="Vendido"?(f(),M(i(_),{key:0,label:"Devolver",icon:"pi pi-undo",class:"p-button-text p-button-warning",onClick:c=>w(e.data.imei)},null,8,["onClick"])):E("",!0)]),_:1})]),_:1},8,["value","loading"])]))}},z=I(A,[["__scopeId","data-v-62175550"]]);export{z as default};
